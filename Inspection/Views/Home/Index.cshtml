@model Inspection.ViewModels.ViewModelAllRecord

@{
    ViewBag.Title = "Home Page";
}

<div class="row">
    <div class="col-sm-12">
        <!-- Layer Section -->
        <div class="layer-section">

            <!-- Section Header -->
            <div class="section-header">
                <h2>Inspection</h2>
                <p align="right" style="text-decoration: underline; padding-right: 110px;" >@Html.ActionLink("H&S Action", "ActionTab")</p>
            </div>
            <!-- END Section Header -->
          
            <!-- Section Content -->
            <div class="section-content">
                <table class="table table-striped table-bordered table-dataTable alignCenter" style="text-align: center" id="tableAll">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>InspectionForm</th>
                        <th>CreatedBy</th>
                        <th>SiteName</th>
                        <th>SiteID</th>
                        <th>AreaOfBusiness</th>
                        <th>Created</th>
                        <th width="95"></th>
                        <th hidden>InspectionDate</th>
                        <th hidden>AreaInspected</th>
                        <th hidden>InspectedPerson</th>
                        <th hidden>ActivityName</th>
                    </tr>
                    </thead>

                    <tbody>
                        @foreach(var item in Model.Inspection)
                        {
                            <tr>
                                <td>
                                   @Html.DisplayFor(modelItem => item.ID)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.InspectionForm)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Created_By)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.SiteName)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.SiteID)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.AreaOfBusiness)
                                </td>
                                <td>
                                    @Convert.ToDateTime(item.Created).ToString("dd/MM/yyyy")
                                </td>
                                <td>
                                    @Html.ActionLink("Edit", "Edit", new { id = item.ID }) |
                                    @Html.ActionLink("View", "Details", new { id = item.ID }) 
                                </td>
                                <td hidden>
                                    @Convert.ToDateTime(item.InspectionDate).ToString("dd/MM/yyyy")
                                </td>
                                <td hidden>
                                    @Html.DisplayFor(modelItem => item.AreaInspected)
                                </td>
                                <td hidden>
                                    @Html.DisplayFor(modelItem => item.InspectedPerson)
                                </td>
                                <td hidden>
                                    @Html.DisplayFor(modelItem => item.ActivityName)
                                </td>
                               
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
            <!-- END Section Content -->
        </div>
        <!-- END Layer Section -->
        
        
        
        <!-- Layer Section-->
        <div class="layer-section">
            
            <!--Section Header-->
            <div class="section-header">
                <h2>Inspection All Records</h2>
            </div>
            <!-- END Section Header -->
            
            <!-- Section Content -->
            <div class="section-content">
                <table class="table table-striped table-bordered table-dataTable alignCenter" style="text-align: center" id="tableAllRecords">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>InspectionForm</th>
                                <th hidden>CreatedBy</th>
                                <th hidden>SiteName</th>
                                <th>SiteID</th>
                                <th hidden>AreaOfBusiness</th>
                                <th>Created</th>
                                <th hidden>InspectionDate</th>
                                <th hidden>AreaInspected</th>
                                <th hidden>InspectedPerson</th>
                                <th hidden>ActivityName</th>
                                <th>Question</th>
                                <th>Answer</th>
                                <th>Remarks</th>
                                <th>Severity</th>
                                <th>Assignee</th>
                                <th>DueDate</th>
                                <th hidden>Status</th>
                                <th hidden>ModifiedBy</th>
                                <th hidden>ModifiedDate</th>
                            </tr>
                        </thead>

                        <tbody>
                            @foreach (var item in Model.MasterDetails)
                            {
                                <tr>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.InspectionId)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.InspectionForm)
                                    </td>

                                    <td hidden>
                                        @Html.DisplayFor(modelItem => item.CreatedBy)
                                    </td>
                                    <td hidden>
                                        @Html.DisplayFor(modelItem => item.SiteName)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.SiteId)
                                    </td>
                                    <td hidden>
                                        @Html.DisplayFor(modelItem => item.AreaOfBusiness)
                                    </td>
                                    <td>
                                        @Convert.ToDateTime(item.Created).ToString("dd/MM/yyyy")
                                    </td>
                                    <td hidden>
                                        @Convert.ToDateTime(item.InspectionDate).ToString("dd/MM/yyyy")
                                    </td>
                                    <td hidden>
                                        @Html.DisplayFor(modelItem => item.AreaInspected)
                                    </td>
                                    <td hidden>
                                        @Html.DisplayFor(modelItem => item.InspectedPerson)
                                    </td>
                                    <td hidden>
                                        @Html.DisplayFor(modelItem => item.ActivityName)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.CompliantQues)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Compliant)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Remarks)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Severity)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Assignee)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.DueDate)
                                    </td>
                                    <td hidden>
                                        @Html.DisplayFor(modelItem => item.Status)
                                    </td>
                                    <td hidden>
                                        @Html.DisplayFor(modelItem => item.LastModifiedBy)
                                    </td>
                                    <td hidden>
                                        @((@Convert.ToDateTime(item.LastModifiedDate).ToString("dd/MM/yyyy") != "01/01/0001") ? @Convert.ToDateTime(item.LastModifiedDate).ToString("dd/MM/yyyy") : "NULL")
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
             </div>
            <!-- END Section Content -->
        </div>
    </div>
</div>


<script type="text/javascript">
    $(document).ready(function () {
        
        var tableObs = $("#tableAll");
        settingsDataTableInspection.columnDefs = [{ targets: [1, 7], orderable: false }, { targets: 1, className: 'dt-alignLeft' }];
        $(tableObs).DataTable(settingsDataTableInspection);
       
        //var tableAllRecords = $("#tableAllRecords");
    });
</script>

